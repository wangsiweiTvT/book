---
layout: post
title: 基带信号码型
---

在基带信号的传输中，有一个“码型”的概念。我们前面讲的，用 5V 的电平代表 1，-5V 的电平代表 0，这就是一种码型。但除了这种码型，我们也可以用 5V 的电平代表 1，0V 的电平代表 0 吧？这又是一种码型。

我们下面介绍各种码型和它们的特点，然后针对不同系统的需求，选择合适的码型。所以，这是一个设计问题，即我们要理解这些码型的特点，然后针对客户的需求，选择合适的码型。

## 双极性和单极性

我们首先介绍双极性码和单极性码。用 5V 的电平代表 1，-5V 的电平代表 0，这就是一种“双极性”码。用 5V 的电平代表 1，0V 的电平代表 0，这就是一种“单极性”码。

那么，双极性码和单极性码有什么特点呢？最主要的特点是：单极性码的均值是大于 0 的，因此，我们说它有“直流分量”，而双极性码的均值是等于 0 的（如果 0/1 符号出现的概率相同的话），因此，我们说它没有“直流分量”。

理解了这两种码的特点后，如果我们碰到一些系统，它不希望传输的信号有直流分量，那么对这些系统，我们就要选择双极性码。这就是我们学习本节的意义。

## 归零码和不归零码

我们下面介绍“归零码”和“不归零码”，比如用 5V 代表 1，然后每秒钟传一个符号。如果这个 5V 把这 1 秒钟全部占满，这就叫做“不归零码”。如果不把这 1 秒钟全部占满，只占一部分，比如前面 0.6 秒是高电平 5V，后面 0.4 秒是低电平 0V，这就是说它会“回归”到 0，这就叫“归零码”。

## 不同码型信号带宽

请问大家，上面这两个码型，用同样的符号速率（每秒传一个符号），归零码和不归零码的带宽，谁的更宽？让我们算一算：“不归零码”的脉冲宽度是 1 秒钟，所以它的频谱的第一个过零点是 1 Hz，而“归零码”的脉冲宽度是 0.6 秒钟，所以它的频谱的第一个过零点是 1/0.6 = 5/3 Hz。所以“归零码”的带宽更宽。这就是说，它的频带利用率更低一些。

对归零码，我们有一个特性，叫做占空比，就是这个高电平的持续时间占整个符号周期的比例。比如，上面的信号的占空比就是 60%。显然，占空比越小，带宽越宽，对吧。

我们也来比较一下单极性码和双极性码的带宽。我们看不归零码。大家说，谁的带宽更宽？大家想想，一个信号，你给它乘以 -1，把它反个相，它的带宽会变宽吗？不会吧？所以，单极性的不归零码和双极性的不归零码，它们的带宽是一样宽的，对吧？

所以，脉冲信号的带宽，只取决于它的脉冲宽度，和它的幅度没有关系哦。这同样适用于多进制的信号。这一点请大家注意。

请大家想一想，从可靠性的角度上来讲，不归零的可靠，还是归零的可靠？我们前面说过，在接收端，我们是通过相关来判决的，就是我们收到一个波形，我们就拿它和我们知道的 0 和 1 的波形比一下，跟谁最像，就判断这个接收波形代表谁，是吧？所以是不是 0 和 1 的波形区别越大，我们越好判断？那么大家现在看，是不归零的 1 和 0的区别大，还是归零的区别大？是不归零的区别大，对吧？所以不归零的可靠一些。

## 绝对码和相对码

下面我们介绍绝对码和相对码，也就是所谓的差分编码。它是用信号“变不变”来传递信息的。“传号差分”，就是说，我们用“变”来表示 1，“不变”表示 0。“空号差分”，就是反过来，用“变”来表示 0，“不变”表示 1。差分编码很有用，特别是对相位调制。因为相位调制中，反映信息的是“相位”，而相位是累积的，所以，如果用绝对相位来表示信息的话，如果中间错一个，后面就会全错；但如果我们用相位的变化来表示信息的话，那么中间错一个，就只是这一个错了，不会影响后面的。

## 码型选择的考虑因素

我们总结一下码型选择的一些考虑因素：

第一个考虑因素是好不好提取同步信号。为什么要同步呢？因为在接收端我们要做采样判决，所以我们希望能够从这个波形里面能够找出来，采样的周期（多长时间要采一下）和位置（采样的合适的时刻）。

那我们怎么从接收到的信号中感知这些信息呢？我们从两个方面进行分析：

首先，从信号的时域波形上来看，我们就希望这个接收到的波型，它不时地跳变一下。这样就给我们一个信号：啊，这是两个符号在切换，这个跳变的位置，就是两个符号之间的间隔的位置。

其次，从信号的频谱来说，我们就希望它的频谱中有这个符号周期对应的频率的离散谱线。因为有了这个谱线，我们就能够通过通过过滤、跟踪，提取出和它同步的符号同步信号，然后用这个信号去做采样。

因此，对不归零码来说，如果它传的全是 1，那么它是不是全是高电平，就一点都不跳变的？这时我们就不知道到底啥时候一个符号结束。相反，对归零码，如果它传的是 1，那么它会在符号内，跳回到 0，所以，就容易同步一些。

所以，现在大家理解了吧？就是这世界上是不存在完美的解决方案的。100 分只存在于考试中，在真实世界中是不存在的。大家只要有自己的特色就可以了。

第二个考虑因素是信道的限制。比如电线的低频端是受限的，因此我们希望信号的低频分量少一些，直流分量最好没有。

第三个考虑因素是有效性：频带利用率，即：信号所占的带宽。这个带宽越小越好，节省我们宝贵的信道资源。具体来说，我们希望信号的频谱快速收敛到 0，别扩散得很宽，收敛到一个很窄的范围最好。

第四个考虑因素是内在的检错能力。有一些码型是有检错能力的。如果发送的波形被噪声和干扰弄坏了，我们能判断出来，它不是一个有效的码型，就出错了。这就是自动的检错能力。比如，我们用两个连续的 +5V -5V 代表 1，然后用两个连续的 -5V +5V 代表 0，那么，如果我们发现收到的是两个连续的 +5V +5V，我们就知道出错了。这就是自动的检错能力。类似的，如果我们用三个连续的 +5V -5V +5V 代表 1，然后用三个连续的 -5V +5V -5V 代表 0，那么，如果我们发现收到的是两个连续的 +5V +5V +5V，我们就不仅能知道出错了，而且能够根据 +5V +5V +5V 离 +5V -5V +5V 更近，推断发送端其实发的是 +5V -5V +5V，而不是 -5V +5V -5V，这就是这个码型的“自动纠错”能力。

## 基带信号的功率谱特性

因为我们的信号源是随机的：它发出来的 1 和 0 是随机的，所以我们的基带信号的发送过程是一个随机过程。因此，我们可以分析它的功率谱。

为什么要分析它的功率谱呢？首先，从它的功率谱中，我们可以观察它有没有“同步”需要的、和符号周期对应的离散谱线。如果有的话，我们就能够拿它来提取同步信号。其次，我们可以获得它的带宽。

为此，我们首先建立它的时域的随机过程描述。我们将这个时域表达式分解成两部分：一部分是“稳态”，一部分是“交变”。稳态部分就是把它的各个符号的波形，按照符号出现的概率，加起来，就是它的平均波形。剩下的部分，就是交变部分了。

这两部分，分别对应两部分的功率谱。其中稳态部分，对应功率谱里的离散谱线；交变部分，就对应功率谱中的连续谱。

作为例子，我们来观察双极性信号的离散谱线。双极性信号的两个码是相反的，它们一个是正的,一个是负的，对吧？所以它们的频谱 G(f) 也是相反的。这样的话，大家看这个式子，如果 p = 0.5 的话，它们是不是抵消了？这就意味着：没有离散谱线了，对不对？这是双极性信号的一个不足。

那么，单极性信号就一定有离散谱线吗？我们来看看单极性归零码。咱们来复习一下，一个脉冲宽度为 T 的方波，它的频谱是一个取样函数，第一个过零点在哪？是不是就在 1/T？是不是就是在这个 $$f_B$$？所以这时这个式子里的 G 正好就等于零了？那惨了，是不是又没有离散谱了?

所以我们对码型的功率谱分析能够帮我们来分析它的频谱到底是什么样子的，有没有离散谱线等。连续谱的分析是类似的。

请大家能够据此画出各种码型的频率谱，并指出它们的特点和应用场景。

## 常用码型

我们首先掌握 nBmB、kBnT、曼彻斯特码（双向码）、传号反转码（CMI码）、AMI码（伪三电平码）的特点和应用场景。

这里请注意一些码是有检错能力的。比如 CMI 和 AMI。这是因为两个原因：

首先，它们的码有“无效码字”。比如 CMI 的有效码字是 11，00，01，而 10 是无效码字。因此，接收端如果收到 10，就能识别出这是一个错误。

其次，它们的码字之间是有规律的。比如 CMI 规定，它的 11 和 00 交替出现的，因此，如果发现一个 11 后面又出现一个 11 的话，接收端就知道这是一个错误。

我们然后重点掌握 HDB3 码。我们首先理解为什么 HDB3 要加“伪信码”，然后掌握它的编码和译码的方法。

这里要注意是，在 HDB3 的编码过程中，我们不要先把信码的 +/- 先标出来，再去加 V 码和补信码，因为这样做的话，我们加了补信码之后，原来的信码的符号是要变的。所以，最好是从前往后编。

其余过程不赘述。请大家多多练习，就可以了。

## 小结

基带信号的码型众多，需要细心地进行梳理，掌握。

<br/>

|[Index](./) | [Previous](4-5-codeshape) | [Next](4-7-isi) |
